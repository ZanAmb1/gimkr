// Seznam prostosti učilnic GimKr
// Podatki zajeti 2020-10-10–2020-10-11
// Nazadnje posodobljeno 2018-10-28
/* Avtor: Žan Žnidar */

var container = {};

container["p"] = [[["Ni podatkov."],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[]]]
;
container["p1"] = [[["15","26","29","bazen","vp","zgtel"],["13","26","bazen"],["7","26","28","bazen"],["5","8","9","12","13","14","16","26","27","30","45","bazen"],["3","12","13","14","15","16","21","22","24","25","26","27","43","45","46","bazen"],["3","7","26","46","bazen"],["26","bazen"],["5","8","13","21","22","24","26","28","31","42","44","sptel","vp","zgtel"],["3","4","5","6","7","8","11","12","13","14","15","21","22","23","24","25","26","27","28","29","30","31","42","43","44","45","47","sptel","vp","zgtel"],["2","3","4","5","6","7","8","11","12","13","14","15","16","21","22","23","24","25","26","27","28","29","30","31","42","43","44","45","47","48","bazen","sptel","vp","zgtel"]],[["1","7","9","15","17","25","26","29","42","49","bazen","sptel"],["4","5","21","26","bazen"],["4","7","26","42","bazen"],["3","4","6","11","12","13","16","17","22","23","25","26","29","30","42","43","45","46","bazen"],["3","12","23","26","27","44","45","46","47","48","bazen"],["7","26","28","31","bazen"],["7","8","9","17","26","42","46","48","bazen"],["2","3","5","6","7","12","13","14","15","16","17","21","22","23","24","25","26","27","28","29","30","42","43","44","45","46","47","48","bazen","sptel","vp","zgtel"],["2","3","4","5","6","7","8","9","11","12","13","14","15","16","17","21","22","23","24","25","26","27","28","29","30","31","42","43","44","45","46","47","48","bazen","sptel","vp","zgtel"],["1","2","3","4","5","6","7","8","9","11","12","13","14","15","16","17","21","22","23","24","25","26","27","28","29","30","31","42","43","44","45","46","47","48","49","bazen","sptel","vp","zgtel"]],[["16","26","29","bazen"],["5","21","26","bazen"],["31","43","47","bazen"],["5","15","21","22","23","24","26","27","30","42","44","47","bazen"],["6","11","12","17","24","25","26","29","44","47","48","49","bazen","sptel"],["7","17","26","bazen"],["4","25","26","bazen"],["3","4","5","6","7","8","9","11","12","14","15","16","17","21","23","24","25","26","27","29","30","42","44","45","46","47","bazen","sptel","vp","zgtel"],["1","3","4","5","6","7","8","9","11","12","13","14","15","16","17","21","22","23","24","25","26","27","28","29","30","31","42","44","45","46","47","48","bazen","sptel","vp","zgtel"],["1","2","3","4","5","6","7","8","9","11","12","13","14","15","16","17","21","22","23","24","25","26","27","28","29","30","31","42","43","44","45","46","47","48","49","bazen","sptel","vp","zgtel"]],[["26","bazen"],["9","14","26","bazen"],["4","7","12","26","bazen"],["3","4","5","6","11","14","17","21","22","23","25","26","29","30","43","48","bazen"],["3","4","6","12","13","16","22","23","31","42","43","44","45","47","bazen"],["4","9","26","bazen"],["28","bazen"],["2","7","8","11","13","21","22","26","42","44","48","sptel","vp","zgtel"],["2","3","4","6","7","8","11","12","13","14","15","16","21","22","23","24","26","27","28","29","30","31","42","43","44","45","46","47","48","49","sptel","vp","zgtel"],["1","2","3","4","5","6","7","8","11","12","13","14","15","16","21","22","23","24","25","26","27","28","29","30","31","42","43","44","45","46","47","48","49","bazen","sptel","vp","zgtel"]],[["7","11","25","26","30","42","bazen"],["26","bazen","sptel"],["13","26","45","bazen"],["3","6","9","11","13","15","16","24","25","26","27","28","29","43","45","48","bazen"],["5","6","21","22","23","26","43","44","49","bazen"],["7","26","bazen"],["3","14","23","26","bazen"],["4","7","11","13","15","16","22","24","26","27","28","30","31","46","47","bazen","sptel","vp","zgtel"],["1","2","3","4","5","6","7","8","9","11","12","13","14","15","16","17","21","22","23","24","25","26","27","28","29","30","31","42","43","44","45","46","47","48","49","bazen","sptel","vp","zgtel"],["1","2","3","4","5","6","7","8","9","11","12","13","14","15","16","17","21","22","23","24","25","26","27","28","29","30","31","42","43","44","45","46","47","48","49","bazen","sptel","vp","zgtel"]]]
;
container["p2"] = [[["1","26","31","bazen"],["1","26","bazen"],["26","bazen"],["6","8","9","12","13","21","24","25","26","31","42","44","46","47","49","bazen"],["3","4","6","7","11","13","15","16","22","24","26","29","43","45","46","48","bazen"],["4","7","12","26","bazen","zgtel"],["43","47","bazen"],["13","15","16","22","24","25","29","31","42","46","sptel","vp","zgtel"],["3","4","5","6","7","8","11","12","13","14","15","16","21","22","23","24","25","27","28","29","30","31","43","45","46","47","48","sptel","vp","zgtel"],["2","3","4","5","6","7","8","11","12","13","14","15","16","21","22","23","24","25","27","28","29","30","31","43","44","45","46","47","48","bazen","sptel","vp","zgtel"]],[["7","15","25","26","28","29","42","48","49","bazen"],["3","7","23","26","bazen"],["3","23","26","bazen"],["6","8","13","15","17","22","24","25","26","27","28","30","31","42","43","44","47","48","49","bazen"],["3","4","5","9","11","14","16","21","22","23","26","28","29","44","46","47","bazen"],["1","23","26","bazen"],["11","15","23","26","27","47","bazen"],["11","12","13","14","15","16","17","21","22","23","24","25","27","28","29","30","42","43","44","45","46","47","48","bazen","sptel","vp","zgtel"],["2","3","4","6","7","8","9","11","12","13","14","15","16","17","21","22","23","24","25","26","27","28","29","30","31","42","43","44","45","46","47","48","bazen","sptel","vp","zgtel"],["1","2","3","4","5","6","7","8","9","11","12","13","14","15","16","17","21","22","23","24","25","26","27","28","29","30","31","42","43","44","45","46","47","48","49","bazen","sptel","vp","zgtel"]],[["4","11","26","48","bazen"],["4","26","42","49","bazen"],["4","30","bazen"],["4","6","8","9","11","12","14","16","17","22","26","27","29","45","46","47","48","49","bazen"],["4","13","14","15","17","21","23","24","25","26","30","43","44","45","bazen","zgtel"],["26","bazen"],["7","8","9","11","26","27","29","bazen","sptel"],["4","5","7","8","9","11","12","13","14","16","21","22","23","24","25","26","27","28","29","30","31","42","43","44","46","47","48","bazen","sptel","vp","zgtel"],["1","4","5","6","7","8","9","11","12","13","14","15","16","21","22","23","24","25","26","27","28","29","30","31","42","43","44","46","47","48","bazen","sptel","vp","zgtel"],["1","2","3","4","5","6","7","8","9","11","12","13","14","15","16","17","21","22","23","24","25","26","27","28","29","30","31","42","43","44","45","46","47","48","49","bazen","sptel","vp","zgtel"]],[["11","48","bazen","zgtel"],["9","14","47","bazen"],["4","26","bazen"],["4","5","8","11","13","15","21","22","24","25","26","27","45","46","48","bazen"],["3","9","11","12","13","16","17","23","24","26","30","31","42","43","46","47","bazen"],["9","12","26","bazen"],["26","bazen"],["5","7","12","21","26","sptel","vp","zgtel"],["2","3","4","5","6","7","8","11","12","13","14","15","16","21","22","23","24","25","26","27","28","29","30","31","42","43","44","45","46","47","48","49","sptel","vp","zgtel"],["1","2","3","4","5","6","7","8","11","12","13","14","15","16","21","22","23","24","25","26","27","28","29","30","31","42","43","44","45","46","47","48","49","bazen","sptel","vp","zgtel"]],[["26","29","30","42","47","bazen"],["26","bazen"],["28","bazen"],["5","6","12","13","21","22","23","24","25","26","27","30","31","42","43","46","bazen"],["3","5","6","7","11","14","21","26","44","48","49","bazen"],["bazen"],["4","27","31","bazen","vp"],["4","5","7","8","11","13","16","21","22","24","25","26","27","28","30","31","42","46","bazen","sptel","vp","zgtel"],["3","4","5","6","7","8","9","11","12","13","14","15","16","17","21","22","23","24","25","26","27","28","29","30","31","42","43","44","45","46","47","48","49","bazen","sptel","vp","zgtel"],["1","2","3","4","5","6","7","8","9","11","12","13","14","15","16","17","21","22","23","24","25","26","27","28","29","30","31","42","43","44","45","46","47","48","49","bazen","sptel","vp","zgtel"]]]
;
container["p3"] = [[["26","29","bazen"],["26","bazen"],["4","7","26","49","bazen"],["14","21","26","27","29","30","48","bazen"],["5","6","9","14","15","16","21","22","25","26","27","28","29","30","43","44","45","47","bazen","vp"],["4","26","bazen"],["bazen"],["1","15","22","25","29","42","44","sptel","vp","zgtel"],["3","4","5","6","8","11","12","13","14","15","16","21","22","23","24","25","27","28","29","31","42","43","44","45","46","47","48","sptel","vp","zgtel"],["2","3","4","5","6","7","8","11","12","13","14","15","16","21","22","23","24","25","27","28","29","31","42","43","44","45","46","47","48","bazen","sptel","vp","zgtel"]],[["7","17","22","25","26","28","42","44","49","bazen"],["26","47","bazen","vp"],["4","26","48","bazen"],["6","11","12","13","14","15","17","26","42","43","45","46","47","48","49","bazen"],["3","6","12","15","22","23","24","26","27","28","44","45","bazen"],["4","7","26","bazen"],["1","7","17","26","bazen"],["3","6","8","9","11","12","13","14","15","16","17","21","22","23","24","25","26","27","29","30","42","43","44","45","46","47","48","49","bazen","sptel","vp","zgtel"],["3","4","5","6","8","9","11","12","13","14","15","16","17","21","22","23","24","25","26","27","28","29","31","42","43","44","45","46","47","48","49","bazen","sptel","vp","zgtel"],["1","2","3","4","5","6","7","8","9","11","12","13","14","15","16","17","21","22","23","24","25","26","27","28","29","30","31","42","43","44","45","46","47","48","49","bazen","sptel","vp","zgtel"]],[["2","4","5","17","21","25","26","27","28","42","bazen"],["2","14","16","26","bazen"],["4","28","bazen"],["4","5","13","22","25","42","43","44","47","bazen","sptel","vp","zgtel"],["4","11","12","13","16","17","21","22","24","26","27","43","44","46","47","48","49","bazen"],["11","22","26","bazen"],["5","6","22","26","29","43","bazen"],["1","2","3","4","5","7","8","11","12","13","15","16","21","23","24","25","26","27","28","29","30","31","42","44","45","46","47","48","bazen","sptel","vp","zgtel"],["1","2","3","4","5","7","8","9","11","12","13","15","16","21","22","23","24","25","26","27","28","29","30","31","42","44","45","46","47","48","bazen","sptel","vp","zgtel"],["1","2","3","4","5","6","7","8","9","11","12","13","14","15","16","17","21","22","23","24","25","26","27","28","29","30","31","42","43","44","45","46","47","48","49","bazen","sptel","vp","zgtel"]],[["11","48","bazen"],["9","14","47","bazen"],["4","12","26","47","bazen"],["3","4","5","11","12","13","15","21","22","23","26","28","29","45","48","bazen"],["3","9","12","13","17","21","23","24","25","26","30","45","46","47","bazen"],["7","26","bazen"],["24","bazen"],["5","13","15","16","21","22","24","25","26","42","44","46","48","sptel","vp","zgtel"],["2","3","4","5","6","8","11","12","13","14","15","16","21","22","23","24","25","26","27","28","29","30","31","42","43","44","45","46","47","48","49","sptel","vp","zgtel"],["1","2","3","4","5","6","8","11","12","13","14","15","16","21","22","23","24","25","26","27","28","29","30","31","42","43","44","45","46","47","48","49","bazen","sptel","vp","zgtel"]],[["2","3","23","26","27","30","42","bazen"],["26","bazen"],["4","24","26","46","bazen"],["5","6","9","11","12","13","16","22","24","25","26","27","42","43","45","46","48","bazen"],["5","6","11","14","23","26","29","30","47","48","49","bazen"],["7","26","bazen"],["14","26","bazen"],["4","7","9","11","13","21","24","25","26","27","28","30","31","42","bazen","sptel","vp","zgtel"],["1","2","3","4","5","6","7","8","9","11","12","13","14","15","16","17","21","22","23","24","25","26","27","28","29","30","31","42","43","44","45","46","47","48","49","bazen","sptel","vp","zgtel"],["1","2","3","4","5","6","7","8","9","11","12","13","14","15","16","17","21","22","23","24","25","26","27","28","29","30","31","42","43","44","45","46","47","48","49","bazen","sptel","vp","zgtel"]]]
;
container["p4"] = [[["26","29","bazen"],["26","bazen"],["11","26","bazen"],["3","4","5","8","11","12","13","14","21","26","27","29","31","48","bazen"],["4","7","9","11","13","14","15","16","22","24","25","26","27","30","43","44","45","46","bazen"],["4","7","26","43","bazen"],["3","26","bazen"],["5","21","22","26","29","44","47","49","sptel","vp","zgtel"],["3","4","5","6","7","11","12","13","14","15","16","21","23","24","26","27","28","29","30","31","43","44","45","46","47","48","49","sptel","vp","zgtel"],["2","3","4","5","6","7","8","11","12","13","14","15","16","21","22","23","24","26","27","28","29","31","43","44","45","46","47","48","49","bazen","sptel","vp","zgtel"]],[["4","7","14","17","25","26","47","49","bazen"],["4","26","48","bazen"],["25","26","28","bazen","vp"],["4","6","7","8","13","14","17","22","26","27","31","43","44","45","46","48","49","bazen"],["8","11","12","13","15","16","21","23","24","25","26","29","30","47","bazen"],["25","26","30","bazen"],["7","9","11","15","17","23","25","26","28","30","bazen"],["3","4","5","6","7","11","12","13","15","16","17","21","22","23","24","25","26","27","28","29","30","31","42","43","44","45","46","47","48","bazen","sptel","vp","zgtel"],["3","4","5","6","7","9","11","12","13","14","15","16","17","21","22","23","24","25","26","27","28","29","30","31","42","43","44","45","46","47","48","bazen","sptel","vp","zgtel"],["1","2","3","4","5","6","7","8","9","11","12","13","14","15","16","17","21","22","23","24","25","26","27","28","29","30","31","42","43","44","45","46","47","48","49","bazen","sptel","vp","zgtel"]],[["15","26","29","bazen"],["5","21","26","bazen"],["4","26","46","47","bazen"],["4","5","8","15","16","17","22","23","24","25","26","27","28","30","42","44","47","bazen"],["6","7","9","11","12","13","14","16","21","26","29","31","42","43","46","48","49","bazen"],["17","26","28","bazen"],["4","26","bazen","sptel","vp","zgtel"],["1","2","3","4","5","7","8","9","11","12","13","14","15","16","17","21","24","25","26","27","28","29","30","31","42","45","46","47","bazen","sptel","vp","zgtel"],["1","2","3","4","5","7","8","9","11","12","13","14","15","16","17","21","22","24","25","26","27","28","29","30","31","42","45","46","47","bazen","sptel","vp","zgtel"],["1","2","3","4","5","6","7","8","9","11","12","13","14","15","16","17","21","22","23","24","25","26","27","28","29","30","31","42","43","44","45","46","47","48","bazen","sptel","vp","zgtel"]],[["11","bazen"],["9","47","bazen"],["4","23","26","bazen"],["4","5","6","11","12","13","15","17","21","22","23","25","26","27","42","43","48","bazen"],["6","7","9","16","22","23","24","26","31","43","44","45","46","47","bazen"],["bazen"],["43","bazen"],["5","7","13","16","21","24","25","31","43","46","48","sptel","vp","zgtel"],["2","3","4","5","6","7","8","11","12","13","14","15","16","21","22","23","24","25","26","27","28","29","30","31","42","43","44","45","46","47","48","49","sptel","vp","zgtel"],["1","2","3","4","5","6","7","8","11","12","13","14","15","16","21","22","23","24","25","26","27","28","29","30","31","42","43","44","45","46","47","48","49","bazen","sptel","vp","zgtel"]],[["4","26","28","30","42","bazen"],["14","26","bazen"],["bazen"],["3","4","6","9","13","16","22","23","24","25","26","42","44","45","46","49","bazen"],["5","11","14","15","21","22","26","28","29","30","43","44","48","bazen"],["26","45","bazen"],["3","4","14","26","31","bazen","vp"],["4","7","8","11","13","15","16","22","24","26","27","28","30","31","42","46","48","bazen","sptel","vp","zgtel"],["1","2","3","4","5","6","7","8","9","11","12","13","14","15","16","17","21","22","23","24","25","26","27","28","29","30","31","42","43","44","45","46","47","48","49","bazen","sptel","vp","zgtel"],["1","2","3","4","5","6","7","8","9","11","12","13","14","15","16","17","21","22","23","24","25","26","27","28","29","30","31","42","43","44","45","46","47","48","49","bazen","sptel","vp","zgtel"]]]
;
//container["prazen"] = [[[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[]]];

var tedni = [[[1630447200000,1630706340000],[1632693600000,1633039140000],[1635807600000,1636153140000],[1638140400000,1638572340000],[1641164400000,1641596340000],[1643583600000,1644015540000],[1646607600000,1647039540000],[1649023200000,1649455140000],[1652047200000,1652479140000],[1654466400000,1654898340000]],[[1630879200000,1631311140000],[1633298400000,1633730340000],[1636326000000,1636757940000],[1638745200000,1639177140000],[1641769200000,1642201140000],[1644361200000,1644706740000],[1647212400000,1647644340000],[1649628000000,1650059940000],[1652652000000,1653083940000]],[[1631484000000,1631915940000],[1633903200000,1634335140000],[1636930800000,1637362740000],[1639350000000,1639781940000],[1642374000000,1642805940000],[1644793200000,1645225140000],[1647817200000,1648249140000],[1650319200000,1650664740000],[1653256800000,1653688740000]],[[1632088800000,1632520740000],[1634508000000,1634939940000],[1637535600000,1637967540000],[1639954800000,1640386740000],[1642978800000,1643410740000],[1646002800000,1646434740000],[1648418400000,1648850340000],[1650837600000,1651874340000],[1653861600000,1654293540000]]]
;
prikaz(stUrnika());
obarvaj();


function stUrnika() {	
    for (var u = 0; u < tedni.length; u++) {
        for (var t = 0; t < tedni[u].length; t++) {
            if (tedni[u][t][0] <= Date.now() && tedni[u][t][1] >= Date.now()) {
				document.getElementById("urnik").innerHTML = "Trenutni urnik: <b>" + (u+1) + "</b>";
                return (u+1);
            } else if(tedni[u][t][0] <= (Date.now() + 172800000) && tedni[u][t][1] >= (Date.now() + 172800000)) {
				document.getElementById("urnik").innerHTML = "Prihajajoči urnik: <b>" + (u+1) + "</b>";
                return (u+1);
			}
        }
    }
	document.getElementById("urnik").innerHTML = "Počitnice <b>:)</b>";
	return ("");
}


function prikaz(a) {
    var zbirka = container["p" + a];
    //console.log(zbirka);

    var tabela = document.getElementById("tbl");

    for (var s = 0; s < zbirka.length; s++) {

        for (var v = 0; v < zbirka[s].length; v++) {
            //console.log(zbirka[s][v]);
            vrste = tabela.getElementsByTagName("tr");
            var stolpci = vrste[v + 1].getElementsByTagName("td");
            stolpci[s + 1].innerText = zbirka[s][v];
            stolpci[s + 1].innerText = stolpci[s + 1].innerText.replace(/,/g, ", ");

        }
    }
    vrste[0].getElementsByTagName("td")[0].innerText = "Urnik " + a;

}

function obarvaj() {
   var d = new Date();

	for(var i = 1; i < vrste.length; i++) {
		var casovi = (vrste[i].getElementsByTagName("td")[0].innerText.split("\n")[1].split("(")[1].split(")")[0]);
		var us = casovi.split("–")[0].split(".")[0]; // ura start
		var ms = casovi.split("–")[0].split(".")[1]; // min start
		var ue = casovi.split("–")[1].split(".")[0]; // ura end
		var me = casovi.split("–")[1].split(".")[1]; // min end
		
		d.setHours(us);
		var cs = d.setMinutes(ms); // cas start
		
		d.setHours(ue);
		var ce = d.setMinutes(me); // cas end

		// Obarvamo trenutno uro in uro, ki pride čez 15 minut.
		if((Date.now() >= cs && Date.now() <= ce) || ((Date.now() + 900000) >= cs && (Date.now() + 900000) <= ce)) {
			//vrste[i].getElementsByTagName("td")[d.getDay() % 6].style.backgroundColor = "#fff496";
			var napredek = (Date.now() - cs)/(ce - cs);
			console.log(napredek);
			//vrste[i].getElementsByTagName("td")[d.getDay() % 6].style.cssText = "border: 2px green solid; background: linear-gradient(#90ee90 "+(napredek*100)+"%, #fff496 "+(napredek*100)+"%)"; 
			vrste[i].getElementsByTagName("td")[d.getDay() % 6].style.cssText = "background: linear-gradient(#fffddd "+(napredek*100)+"%, #fff496 "+(napredek*100)+"%)"; 
		}
	}

	vrste[0].getElementsByTagName("td")[d.getDay() % 6].style.cssText = "border: 2px solid #ffa500; background-color: #ffedcc"; // Obarvamo dan na vrhu
}


